<html>
	<head>
		<meta charset="utf-8" />
		<title>鲜橙</title>
		<link rel="stylesheet" type="text/css" href="css/outer.css">
		<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>
	<body>
		<div class="container" style="transform:translateY(0);">
			<section class="page page1 active">
				<div class="inner">
					
				</div>
			</section>
			<section class="page page2">
				<div class="inner">
					
				</div>
			</section>
			<section class="page page3">
				<div class="inner">
					
				</div>
			</section>
			<!-- 顶部操作 -->
		</div>
		<article class="top js_showIndexContents">
			<!-- 导航 -->
			<nav class="top-nav">
				<a class="icon-wrap icon-wrap-active" href="javascript:;" data-index="1">
					<svg version="1.1" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20">
						<path class="circle" fill="none" stroke="#FFFFFF" stroke-miterlimit="10" d="M10,1c5,0,9,4,9,9s-4,9-9,9s-9-4-9-9S5,1,10,1z"></path>
						<path class="line" fill="none" stroke="#FFFFFF" stroke-width="1.8" stroke-miterlimit="10" d="M10,0v20"></path>
					</svg>
				</a>
				<a class="icon-wrap" href="javascript:;" data-index="2">
					<svg version="1.1" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20">
						<path class="circle" fill="none" stroke="#FFFFFF" stroke-miterlimit="10" d="M10,1c5,0,9,4,9,9s-4,9-9,9s-9-4-9-9S5,1,10,1z"></path>
						<path class="line" fill="none" stroke="#FFFFFF" stroke-width="1.8" stroke-miterlimit="10" d="M10,0v20"></path>
					</svg>
				</a>
				<a class="icon-wrap" href="javascript:;" data-index="3">
					<svg version="1.1" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20">
						<path class="circle" fill="none" stroke="#FFFFFF" stroke-miterlimit="10" d="M10,1c5,0,9,4,9,9s-4,9-9,9s-9-4-9-9S5,1,10,1z"></path>
						<path class="line" fill="none" stroke="#FFFFFF" stroke-width="1.8" stroke-miterlimit="10" d="M10,0v20"></path>
					</svg>
				</a>
				<a class="icon-wrap-more" href="javascript:;" data-index="4">
					<svg version="1.1" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" style="transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform-origin: 50% 50% 0px;">
						<path fill="#FFFFFF" d="M5,2.5L5,2.5c1.4,0,2.5,1.1,2.5,2.5v0c0,1.4-1.1,2.5-2.5,2.5h0C3.6,7.5,2.5,6.4,2.5,5v0C2.5,3.6,3.6,2.5,5,2.5z" data-svg-origin="5 5" style="transform-origin: 0px 0px 0px; transform: matrix(1.2, 0, 0, 1.2, -1, -1); stroke: rgba(255, 255, 255, 0); fill: rgb(255, 255, 255); stroke-dashoffset: 16.7438; stroke-dasharray: 0px, 999999px; stroke-width: 1px;"></path>
						<path fill="#FFFFFF" d="M15,2.5L15,2.5c1.4,0,2.5,1.1,2.5,2.5v0c0,1.4-1.1,2.5-2.5,2.5h0c-1.4,0-2.5-1.1-2.5-2.5v0C12.5,3.6,13.6,2.5,15,2.5z" data-svg-origin="15 5" style="transform-origin: 0px 0px 0px; transform: matrix(0, -1.2, 1.2, 0, 9, 23); stroke: rgba(255, 255, 255, 0); fill: rgb(255, 255, 255); stroke-dashoffset: 16.7438; stroke-dasharray: 0px, 999999px; stroke-width: 1px;"></path>
						<path fill="#FFFFFF" d="M5,12.5L5,12.5c1.4,0,2.5,1.1,2.5,2.5v0c0,1.4-1.1,2.5-2.5,2.5h0c-1.4,0-2.5-1.1-2.5-2.5v0C2.5,13.6,3.6,12.5,5,12.5z" data-svg-origin="5 15" style="transform-origin: 0px 0px 0px; transform: matrix(-1.2, 0, 0, -1.2, 11, 33); stroke: rgba(255, 255, 255, 0); fill: rgb(255, 255, 255); stroke-dashoffset: 16.7438; stroke-dasharray: 0px, 999999px; stroke-width: 1px;"></path>
						<path fill="#FFFFFF" d="M15,12.5L15,12.5c1.4,0,2.5,1.1,2.5,2.5v0c0,1.4-1.1,2.5-2.5,2.5h0c-1.4,0-2.5-1.1-2.5-2.5v0C12.5,13.6,13.6,12.5,15,12.5z" data-svg-origin="15 15" style="transform-origin: 0px 0px 0px; transform: matrix(0, 1.2, -1.2, 0, 33, -3); stroke: rgba(255, 255, 255, 0); fill: rgb(255, 255, 255); stroke-dashoffset: 16.7438; stroke-dasharray: 0px, 999999px; stroke-width: 1px;"></path>
					</svg>
				</a>
			</nav>
			<!-- 品牌商标 -->
			<header class="js_white"></header>
			<!-- 关于按钮 -->
			<div class="top-aboutBtn js_finishShow">
				<a href="/about" class="js_internal-link js_white">ABOUT US</a>
			</div>
			<!-- 更多按钮 -->
			<a href="/works/dcc_2015" class="top-head-link js_internal-link js_showLink js_finishLink"><span class="txt">VIEW MORE</span></a>
			<!-- 上导航线 -->
			<div class="top-workLineT"></div>
			<!-- 下导航线 -->
			<div class="top-workLineB"></div>
		</article>
		<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
		<script type="text/javascript" src="js/mousewheel.min.js"></script>
		<script type="text/javascript">
			$(function (argument) {
				// 导航监听
				$('.icon-wrap').click(function(){
					var page_index = $(this).attr('data-index');
					$(this).addClass('icon-wrap-active')
						   .siblings()
						   .removeClass('icon-wrap-active');
					$('.page'+page_index).addClass('active').siblings().removeClass('active');
				});
					
				// 监听滚轮
				var FLAG_IS_MOVING = false;
				$('body').mousewheel(function(e) {
					// 如果正在上一个滚动，则暂时抛弃其他滚动，1400ms后可以接受其他滚动（解决mac下trackpad问题）
					if(FLAG_IS_MOVING){return;}
					else{FLAG_IS_MOVING = true;}
					setTimeout(function(){
						FLAG_IS_MOVING = false;
					},1400);

					var direction = e.deltaY;
					var page_index = $('.icon-wrap-active').attr('data-index');
					var page_num = $('.icon-wrap').length+1;
					

					// 下翻
					if(direction < 0){
						page_index++;
					}
					// 上翻
					else{
						page_index--;
					}

					// 若到顶或者到尾部则返回
					if(page_index==0||page_index==page_num){return;}

					// 线动画
					Animate_line(page_index,direction,page_num);

					// 滑动页面
					$('.container').css({'transform':'translateY(-'+(page_index-1)*100+'%)'});

					// 更新导航图标
					$(".icon-wrap[data-index='"+page_index+"']").addClass('icon-wrap-active')
						   .siblings()
						   .removeClass('icon-wrap-active');

					$('.page'+page_index).addClass('active').siblings().removeClass('active');
				});

				// 线动画
				function Animate_line(index,direction,page_num){
					var $lineTop = $('.top-workLineT');
					var $lineBottom = $('.top-workLineB');
					var $sideLink = $('.top-head-link');
					var line_duration_time = 1000;

					// 上下线方向动画
					// 下滑
					if(direction < 0){
						$lineTop.addClass('js_lineNext').addClass('js_scrolled');
						$lineBottom.addClass('js_lineNext');
						setTimeout(function(){
							$lineTop.removeClass('js_lineNext');
							$lineBottom.removeClass('js_lineNext');
						},line_duration_time);
					}
					// 上滑
					else{
						if(index===1){
							$lineTop.addClass('js_linePrev_top').removeClass('js_scrolled');
							$lineBottom.addClass('js_linePrev_top');
							setTimeout(function(){
								$lineTop.removeClass('js_linePrev_top');
								$lineBottom.removeClass('js_linePrev_top');
							},line_duration_time);
						}
						else{
							$lineTop.addClass('js_linePrev');
							$lineBottom.addClass('js_linePrev');
							setTimeout(function(){
								$lineTop.removeClass('js_linePrev');
								$lineBottom.removeClass('js_linePrev');
							},line_duration_time);
						}
					}

					// 移动侧边线
					$sideLink.removeClass('js_showLink');
					setTimeout(function(){
						$sideLink.addClass('js_showLink');
					},line_duration_time);
				}
			});
		</script>
	</body>
</html>